{
  "version": 3,
  "sources": ["../src/index.ts"],
  "sourcesContent": ["import { workspace, ExtensionContext, languages, Location } from \"vscode\";\nimport { readFileSync } from \"fs\";\nimport path from \"path\";\nimport { parse as vueParser } from \"@vue/compiler-sfc\";\n\nexport function activate(context: ExtensionContext) {\n  const workSpaceFolder = workspace.workspaceFolders?.[0]?.uri.fsPath;\n  const zhLocalePath = workspace.getConfiguration().get(\"i18n.conf.localePath\");\n\n  const disposableHover = languages.registerHoverProvider(\n    [\n      {\n        scheme: \"file\",\n        language: \"javascript\",\n      },\n      {\n        scheme: \"file\",\n        language: \"vue\",\n      },\n    ],\n    {\n      provideHover(document, position, token) {\n        // \u5F53\u524Dhover\u7684\u5B57\u7B26\u4E32\n        const range = document.getWordRangeAtPosition(position);\n        const key = document.getText(range);\n\n        const options = workspace\n          .getConfiguration(\"sweet-i18n\")\n          .get(\"configurations\");\n        console.log(options);\n\n        if (workSpaceFolder) {\n          // TODO:\u4ECE\u914D\u7F6E\u9879\u83B7\u53D6\u914D\u7F6E\n          const localePath = path.resolve(\n            workSpaceFolder,\n            \"src/i18n/zh-CN.json\"\n          );\n          const locales = JSON.parse(readFileSync(localePath, \"utf8\"));\n\n          // \u83B7\u53D6\u6587\u4EF6\u76F8\u5BF9\u4E8E\u9879\u76EE\u6839\u76EE\u5F55\u7684\u76F8\u5BF9\u8DEF\u5F84\uFF0C\u5E76\u7EC4\u6210key\u503C\n          const fileRelativePath = path.relative(\n            workSpaceFolder,\n            document.fileName\n          );\n          const src = fileRelativePath.split(path.sep).join(\".\");\n\n          const localeValue = locales[src][key];\n          if (localeValue) {\n            return {\n              contents: [localeValue, \"sweet-i18n \u63D0\u4F9B\u7FFB\u8BD1\u63D0\u793A\"],\n            };\n          }\n        }\n\n        return;\n      },\n    }\n  );\n\n  const disposableDefinition = languages.registerDefinitionProvider(\n    [\n      {\n        scheme: \"file\",\n        language: \"javascript\",\n      },\n      {\n        scheme: \"file\",\n        language: \"vue\",\n      },\n    ],\n    {\n      provideDefinition(document, position, token) {\n        return new Location({\n          scheme: \"file\",\n          path: \"/path/sfsffdf\",\n          query: \"?start=1&end=2\",\n          fragment: \"#rerrr\",\n          fsPath: \"\",\n        });\n      },\n    }\n  );\n\n  context.subscriptions.push(disposableHover);\n  context.subscriptions.push(disposableDefinition);\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA,oBAAiE;AACjE,gBAA6B;AAC7B,kBAAiB;AAGV,kBAAkB,SAA2B;AALpD;AAME,QAAM,kBAAkB,oCAAU,qBAAV,mBAA6B,OAA7B,mBAAiC,IAAI;AAC7D,QAAM,eAAe,wBAAU,mBAAmB,IAAI;AAEtD,QAAM,kBAAkB,wBAAU,sBAChC;AAAA,IACE;AAAA,MACE,QAAQ;AAAA,MACR,UAAU;AAAA;AAAA,IAEZ;AAAA,MACE,QAAQ;AAAA,MACR,UAAU;AAAA;AAAA,KAGd;AAAA,IACE,aAAa,UAAU,UAAU,OAAO;AAEtC,YAAM,QAAQ,SAAS,uBAAuB;AAC9C,YAAM,MAAM,SAAS,QAAQ;AAE7B,YAAM,UAAU,wBACb,iBAAiB,cACjB,IAAI;AACP,cAAQ,IAAI;AAEZ,UAAI,iBAAiB;AAEnB,cAAM,aAAa,oBAAK,QACtB,iBACA;AAEF,cAAM,UAAU,KAAK,MAAM,4BAAa,YAAY;AAGpD,cAAM,mBAAmB,oBAAK,SAC5B,iBACA,SAAS;AAEX,cAAM,MAAM,iBAAiB,MAAM,oBAAK,KAAK,KAAK;AAElD,cAAM,cAAc,QAAQ,KAAK;AACjC,YAAI,aAAa;AACf,iBAAO;AAAA,YACL,UAAU,CAAC,aAAa;AAAA;AAAA;AAAA;AAK9B;AAAA;AAAA;AAKN,QAAM,uBAAuB,wBAAU,2BACrC;AAAA,IACE;AAAA,MACE,QAAQ;AAAA,MACR,UAAU;AAAA;AAAA,IAEZ;AAAA,MACE,QAAQ;AAAA,MACR,UAAU;AAAA;AAAA,KAGd;AAAA,IACE,kBAAkB,UAAU,UAAU,OAAO;AAC3C,aAAO,IAAI,uBAAS;AAAA,QAClB,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,OAAO;AAAA,QACP,UAAU;AAAA,QACV,QAAQ;AAAA;AAAA;AAAA;AAMhB,UAAQ,cAAc,KAAK;AAC3B,UAAQ,cAAc,KAAK;AAAA;",
  "names": []
}
